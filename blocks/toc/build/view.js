(()=>{function t(t,e,o,c,n){const l=document.createElement("li");l.classList.add("wp-block-lito-toc-item");const d=document.createElement("a");d.href="#"+o,d.classList.add("wp-block-lito-toc-a",`wp-block-lito-toc-${n}`);const i=document.createElement("span");i.classList.add("wp-block-lito-toc-number"),i.innerText=c;const a=document.createElement("span");a.classList.add("toc-label"),a.innerText=e.innerText,d.appendChild(i),d.appendChild(a),l.appendChild(d),t.appendChild(l)}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".entry-content");if(e){const o=e.querySelectorAll("h2:not(.toc-exclude), h3:not(.toc-exclude)"),c=document.querySelectorAll(".wp-block-lito-toc");o.length>1&&c.forEach((e=>{if("true"===e.dataset.hideIfOtherExists&&c.length>1)return void(e.style.display="none");const n=document.createElement("h2");n.classList.add("wp-block-lito-toc-title"),n.innerText="目次",e.appendChild(n);const l=document.createElement("ol");l.classList.add("wp-block-lito-toc-list"),e.appendChild(l);let d=1,i=0;o.forEach((e=>{if("H2"===e.tagName){i=1;const o=e.id?e.id:"litob-toc-item-"+d;e.id=o,t(l,e,o,d+".","h2"),d++}else if("H3"===e.tagName){const o=e.id?e.id:"litob-toc-item-"+(d-1)+"-"+i;e.id=o,t(l,e,o,`${d-1}-${i}.`,"h3"),i++}}))}))}}))})();