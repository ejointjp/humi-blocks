document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".entry-content");if(t){const e=t.querySelectorAll("h2:not(.toc-exclude), h3:not(.toc-exclude)"),c=document.querySelectorAll(".wp-block-lito-toc");e.length>1&&c.forEach((t=>{const c=document.createElement("h2");c.classList.add("wp-block-lito-toc-title"),c.innerText="目次",t.appendChild(c);const o=document.createElement("ol");o.classList.add("wp-block-lito-toc-list"),t.appendChild(o);let l=0,n=1;e.forEach((t=>{let e;t.id?e=t.id:("H2"===t.tagName?(l++,e="su-toc-item-"+l):(e=`su-toc-item-${l}-${n}`,n++),t.id=e);const c=document.createElement("li");c.classList.add("wp-block-lito-toc-item");const d=document.createElement("a"),i=document.createElement("span");i.classList.add("toc-label"),i.innerText=t.innerText,d.appendChild(i),c.appendChild(d);const a=document.createElement("span");a.classList.add("wp-block-lito-toc-number"),"H2"===t.tagName?(d.classList.add("wp-block-lito-toc-a","wp-block-lito-toc-h2"),d.href="#"+e,a.innerText=l+"."):(d.classList.add("wp-block-lito-toc-a","wp-block-lito-toc-h3"),d.href="#"+e,a.innerText=`${l}-${n}.`),d.insertBefore(a,d.firstChild),o.appendChild(c)}))}))}}));