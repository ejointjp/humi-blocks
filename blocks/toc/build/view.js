(()=>{function t(t,e,c,o,n){const l=document.createElement("li");l.classList.add("wp-block-lito-toc-item");const d=document.createElement("a");d.href="#"+c,d.classList.add("wp-block-lito-toc-a",`wp-block-lito-toc-${n}`);const i=document.createElement("span");i.classList.add("wp-block-lito-toc-number"),i.innerText=o;const a=document.createElement("span");a.classList.add("toc-label"),a.innerText=e.innerText,d.appendChild(i),d.appendChild(a),l.appendChild(d),t.appendChild(l)}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".entry-content");if(e){const c=e.querySelectorAll("h2:not(.toc-exclude), h3:not(.toc-exclude)"),o=document.querySelectorAll(".wp-block-lito-toc");c.length>1&&o.forEach((e=>{const o=document.createElement("h2");o.classList.add("wp-block-lito-toc-title"),o.innerText="目次",e.appendChild(o);const n=document.createElement("ol");n.classList.add("wp-block-lito-toc-list"),e.appendChild(n);let l=1,d=0;c.forEach((e=>{if("H2"===e.tagName){d=1;const c=e.id?e.id:"litob-toc-item-"+l;e.id=c,t(n,e,c,l+".","h2"),l++}else if("H3"===e.tagName){const c=e.id?e.id:"litob-toc-item-"+(l-1)+"-"+d;e.id=c,t(n,e,c,`${l-1}-${d}.`,"h3"),d++}}))}))}}))})();